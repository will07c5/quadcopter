/* memory.h
 *
 * Defines describing the memory layout for the quadcopter program
 */

#ifndef MEMORY_H_
#define MEMORY_H_

#define QUADCOPTER_LEN_BYTES(x) (QUADCOPTER_##x##_LEN_MB*0x100000)

#define QUADCOPTER_REGION 0x9e000000
#define QUADCOPTER_LENGTH 0x01000000
#define QUADCOPTER_CONFIG_REGION 0x9e010000
#define QUADCOPTER_CONFIG_LENGTH 0x1000
#define QUADCOPTER_FIRMWARE_REGION 0x9e100000
#define QUADCOPTER_FIRMWARE_LENGTH 0x00200000


#define MMU_CONFIG_REGION 0x55082000
#define MMU_CONFIG_LENGTH 0x1000
#define MMU_TABLE_REGION 0x9E000000
#define MMU_TABLE_LENGTH 0x4000
#define CORE_CM2_REGION 0x4A008700
#define CORE_CM2_LENGTH 0x1000
#define CORE_PRM_REGION 0x4A306700
#define CORE_PRM_LENGTH 0x1000

#define QUADCOPTER_PROGRAM_PHYS 0x9E100000
#define QUADCOPTER_PROGRAM_VIRT 0x00000000
#define QUADCOPTER_PROGRAM_LEN_MB 2

#define QUADCOPTER_STACK_PHYS (QUADCOPTER_PROGRAM_PHYS + QUADCOPTER_LEN_BYTES(PROGRAM))
#define QUADCOPTER_STACK_VIRT 0x00300000
#define QUADCOPTER_STACK_LEN_MB 1

#define QUADCOPTER_TX_PHYS (QUADCOPTER_STACK_PHYS + QUADCOPTER_LEN_BYTES(STACK))
#define QUADCOPTER_TX_VIRT 0x10000000
#define QUADCOPTER_TX_LEN_MB 5

#define QUADCOPTER_RX_PHYS (QUADCOPTER_TX_PHYS + QUADCOPTER_LEN_BYTES(TX))
#define QUADCOPTER_RX_VIRT 0x11000000
#define QUADCOPTER_RX_LEN_MB 5

#define QUADCOPTER_TRACE_PHYS (QUADCOPTER_RX_PHYS + QUADCOPTER_LEN_BYTES(RX))
#define QUADCOPTER_TRACE_VIRT 0x12000000
#define QUADCOPTER_TRACE_LEN_MB 5

#define QUADCOPTER_PER_PHYS 0x48000000
#define QUADCOPTER_PER_VIRT 0x48000000
#define QUADCOPTER_PER_LEN_MB 16

#define QUADCOPTER_CFG_PHYS 0x4A000000
#define QUADCOPTER_CFG_VIRT 0x4A000000
#define QUADCOPTER_CFG_LEN_MB 16

#define QUADCOPTER_M3_PRIVATE_PHYS 0xE0000000
#define QUADCOPTER_M3_PRIVATE_VIRT 0xE0000000
#define QUADCOPTER_M3_PRIVATE_LEN_MB 1

#define QUADCOPTER_MAP_RANGE(x) mmu_map_range(QUADCOPTER_##x##_VIRT, \
		QUADCOPTER_##x##_PHYS, \
		QUADCOPTER_##x##_LEN_MB)


#endif
